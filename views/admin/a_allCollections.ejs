<% layout("/boilerplate/admin_boiler.ejs") %>

<body class="h-[100vh]">
    <section class="width pb-40">
        <h1 class="text-center text-3xl font-bold text-white my-12">All Uploaded Cars</h1>
        <div class="admin-allCollection overflow-x-auto">
            <table class="table">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Milage</th>
                        <th>Color</th>
                        <th>Price</th>
                        <th>Sold Status</th>
                        <th>Upload Time</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <% for (let car of allCars.reverse()) { %>
                        <tr>
                            <td>
                                <div class="flex items-center gap-3">
                                    <div class="avatar">
                                        <div class="mask mask-squircle h-12 w-12">
                                            <img src="<%= car.carImage.url[0] %>" alt="<%= car.carName %>" />
                                        </div>
                                    </div>
                                    <div>
                                        <div class="font-bold"><%= car.carName %></div>
                                        <div class="text-sm opacity-50"><%= car.modelYear %></div>
                                    </div>
                                </div>
                            </td>
                            <td><%= car.mileage %></td>
                            <td><%= car.carColor %></td>
                            <td>&#2547; <%= car.carPrice.toLocaleString("en-BD") %></td>
                            <td>
                                <span class="<%= car.soldStatus === "false" ? 'bg-[green]' : 'bg-[red]' %> text-white text-xs font-medium py-1 px-2 rounded-md"><%= car.soldStatus === "false" ? 'available' : 'sold' %></span>
                            </td>
                            <td><%= car.createdAt[0] %> <%= car.createdAt[1] %>, <%= car.createdAt[2] %></td>
                            <th>
                                <a href="/admin/allCollections/<%= car._id %>"><button class="underline text-blue-500 btn btn-ghost btn-xs">Show Details</button></a>
                            </th>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </section>
</body>
